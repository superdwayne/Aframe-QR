<!DOCTYPE html>
<html>
  <!-- include A-Frame obviously -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
 
<!-- include ar.js for A-Frame -->
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

<script>
  AFRAME.registerComponent('audiohandler', {
  init:function() {
     let playing = false;
     let audio = document.querySelector("#neigh");
     console.log(audio,  "DPM")
     this.el.addEventListener('click', () => {
          if(!playing) {
              audio.play();
           } else {
              audio.pause();
              audio.currentTime = 0;
           }
           playing = !playing;
     });
  }
})

// document.addEventListener('DOMContentLoaded', function() {
//     var scene = document.querySelector('a-scene');
//     scene.addEventListener('loaded', function (e) {
//         console.log("DPM Loaded" , Audio)
//     });
// });
</script>

<body style='margin : 0px; overflow: hidden;'>
  <a-scene  

  look-controls camera  
  embedded arjs='detectionMode: mono_and_matrix; matrixCodeType: 3x3; ' >
  
    <a-entity light="type: point; intensity: 3.75; distance: 50; decay: 2"
          position="0 10 10"></a-entity>
    <a-assets >
      <audio 
       id="neigh" 
      
       crossOrigin="anonymous"  
       src="https://cdn-static.farfetch-contents.com/Content/UP/EXPERIENCE/Metaverse/Shortmusic.mp4">
      </audio>
      <a-box color="tomato" depth="2" height="4" width="0.5" position = "0  0 -2" audiohandler></a-box>
      <a-asset  id="tree" crossOrigin="anonymous" src="https://cdn-static.farfetch-contents.com/Content/UP/EXPERIENCE/Metaverse/DPM-S-Walking-v2.glb"></a-asset>
    </a-assets>

    
      <!-- use your gltf model -->
    
        <a-entity light="type: spot; angle: 45"></a-entity>
        <a-entity sound="src: #neigh; on: click"  scale="2 2 2" animation-mixer="clip: WALK" rotation="0 90 0" gltf-model="#tree" position='0 -1 -5'></a-entity>
<!--       
        <a-entity >
          <a-marker preset='custom' type="pattern" url='https://raw.githubusercontent.com/superdwayne/Assets/main/kl.patt'></a-marker>
      </a-entity> -->

  </a-scene>
</body>
</html>